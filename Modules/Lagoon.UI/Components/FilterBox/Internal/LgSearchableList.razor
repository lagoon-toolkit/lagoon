@namespace Lagoon.UI.Components.Internal
@typeparam TValue

<LgTextBox Value="@_searchValue" OnInput="OnSearchTextInput" OnChangeDisabled="true" CssClass="filter-search" Placeholder="#FilterBoxSearchPlaceholder" AutoFocus="true" />
@if (_showAddToSelection)
{
    <LgCheckBox @bind-Value="_addToSelection" Text="#FilterBoxAddToSelection" TextPosition="CheckBoxTextPosition.Right" />
}
<LgCheckBox Value="_allSelected" Text="#FilterBoxSelectAll" TextPosition="CheckBoxTextPosition.Right" OnChange="ToggleSelectAll" />
<LgCheckBoxList CssClass="filterbox-list" Value="_selection" TextPosition="CheckBoxTextPosition.Right" OnChange="OnSelection">
    <Items>
        @foreach (TValue value in _visibleItems)
        {
            <LgCheckBoxListItem Value="@value" Text="@FormatValue(value)" />
        }
    </Items>
</LgCheckBoxList>